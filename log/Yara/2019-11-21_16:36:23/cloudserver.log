ansible-playbook 2.8.1
  config file = /Users/yarahaddad/Documents/TestProject/qa-env-deployment/ansible.cfg
  configured module search path = [u'/Users/yarahaddad/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /Library/Python/2.7/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.16 (default, Oct 17 2019, 17:14:30) [GCC 4.2.1 Compatible Apple LLVM 11.0.0 (clang-1100.0.32.4) (-macos10.15-objc-s
Using /Users/yarahaddad/Documents/TestProject/qa-env-deployment/ansible.cfg as config file
[DEPRECATION WARNING]: The TRANSFORM_INVALID_GROUP_CHARS settings is set to 
allow bad characters in group names by default, this will change, but still be 
user configurable on deprecation. This feature will be removed in version 2.10.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
 [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

PLAYBOOK: cloudserver.yml ******************************************************
1 plays in cloudserver.yml

PLAY [cloud-servers] ***********************************************************

TASK [Gathering Facts] *********************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/cloudserver.yml:2
ok: [192.168.2.100] => {"ansible_facts": {"ansible_architecture": "64-bit", "ansible_bios_date": "01-30-2018", "ansible_bios_version": "1.7.0", "ansible_date_time": {"date": "2019-11-21", "day": "21", "epoch": "1574354207.95168", "hour": "16", "iso8601": "2019-11-21T14:36:47Z", "iso8601_basic": "20191121T163647948680", "iso8601_basic_short": "20191121T163647", "iso8601_micro": "2019-11-21T14:36:47.948680Z", "minute": "36", "month": "11", "second": "47", "time": "16:36:47", "tz": "Israel Standard Time", "tz_offset": "+02:00", "weekday": "Thursday", "weekday_number": "4", "weeknumber": "46", "year": "2019"}, "ansible_distribution": "Microsoft Windows 10 Pro", "ansible_distribution_major_version": "10", "ansible_distribution_version": "10.0.17763.0", "ansible_domain": "", "ansible_env": {"ALLUSERSPROFILE": "C:\\ProgramData", "ANDROID_ADB": "C:\\Program Files (x86)\\Experitest\\Cloud\\Agent\\bin\\adb", "ANDROID_HOME": "C:\\Users\\yara.haddad\\AppData\\Local\\Android\\Sdk", "APPDATA": "C:\\Users\\yara.haddad\\AppData\\Roaming", "COMPUTERNAME": "YHADDAD-PC", "ChocolateyInstall": "C:\\ProgramData\\chocolatey", "ChocolateyLastPathUpdate": "132174457298188960", "ComSpec": "C:\\WINDOWS\\system32\\cmd.exe", "CommonProgramFiles": "C:\\Program Files\\Common Files", "CommonProgramFiles(x86)": "C:\\Program Files (x86)\\Common Files", "CommonProgramW6432": "C:\\Program Files\\Common Files", "DriverData": "C:\\Windows\\System32\\Drivers\\DriverData", "HOMEDRIVE": "C:", "HOMEPATH": "\\Users\\yara.haddad", "JAVA_HOME": "C:\\Program Files\\Java\\jdk1.8.0_191", "LOCALAPPDATA": "C:\\Users\\yara.haddad\\AppData\\Local", "LOGONSERVER": "\\\\YHADDAD-PC", "NUMBER_OF_PROCESSORS": "4", "OS": "Windows_NT", "OneDrive": "C:\\Users\\yara.haddad\\OneDrive", "OneDriveConsumer": "C:\\Users\\yara.haddad\\OneDrive", "PATHEXT": ".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.RB;.RBW;.CPL", "PROCESSOR_ARCHITECTURE": "AMD64", "PROCESSOR_IDENTIFIER": "Intel64 Family 6 Model 158 Stepping 9, GenuineIntel", "PROCESSOR_LEVEL": "6", "PROCESSOR_REVISION": "9e09", "PROMPT": "$P$G", "PSExecutionPolicyPreference": "Unrestricted", "PSModulePath": "C:\\Users\\yara.haddad\\Documents\\WindowsPowerShell\\Modules;C:\\ProgramData\\Boxstarter;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules", "PUBLIC": "C:\\Users\\Public", "Path": "C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\Python33\\;C:\\Python33\\Scripts;C:\\ProgramData\\Boxstarter;C:\\Program Files\\apache-maven-3.6.0;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Experitest\\Cloud\\Agent\\bin\\adb;C:\\Users\\yara.haddad\\AppData\\Local\\Android\\Sdk\\tools;%ANDROID_HOME\\platform-tools;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\gradle-4.7\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\nodejs\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Experitest\\Cloud\\Agent\\bin\\adb;;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Ruby25-x64\\bin;C:\\Users\\yara.haddad\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\yara.haddad\\AppData\\Roaming\\npm;C:\\Users\\yara.haddad\\AppData\\Local\\Microsoft\\WindowsApps", "ProgramData": "C:\\ProgramData", "ProgramFiles": "C:\\Program Files", "ProgramFiles(x86)": "C:\\Program Files (x86)", "ProgramW6432": "C:\\Program Files", "SystemDrive": "C:", "SystemRoot": "C:\\WINDOWS", "TEMP": "C:\\Users\\yara.haddad\\AppData\\Local\\Temp", "TMP": "C:\\Users\\yara.haddad\\AppData\\Local\\Temp", "USERDOMAIN": "YHADDAD-PC", "USERDOMAIN_ROAMINGPROFILE": "YHADDAD-PC", "USERNAME": "yara.haddad", "USERPROFILE": "C:\\Users\\yara.haddad", "asl.log": "Destination=file", "windir": "C:\\WINDOWS"}, "ansible_fqdn": "Yhaddad-PC.", "ansible_hostname": "YHADDAD-PC", "ansible_interfaces": [{"connection_name": "vEthernet (DockerNAT)", "default_gateway": null, "dns_domain": null, "interface_index": 23, "interface_name": "Hyper-V Virtual Ethernet Adapter #2", "macaddress": "00:15:5D:02:64:00"}, {"connection_name": "vEthernet (Default Switch)", "default_gateway": null, "dns_domain": null, "interface_index": 25, "interface_name": "Hyper-V Virtual Ethernet Adapter", "macaddress": "02:15:52:8A:58:2E"}, {"connection_name": "Ethernet", "default_gateway": "192.168.1.1", "dns_domain": "experitest.local", "interface_index": 13, "interface_name": "Realtek PCIe GBE Family Controller", "macaddress": "50:9A:4C:28:6E:23"}], "ansible_ip_addresses": ["10.0.75.1", "fe80::acd7:7614:1056:d8b3", "172.17.156.97", "fe80::91c8:4874:e41:e827", "192.168.2.100"], "ansible_kernel": "10.0.17763.0", "ansible_lastboot": "2019-11-18 12:27:13Z", "ansible_machine_id": "S-1-5-21-2438716050-1164170111-3478533550", "ansible_memtotal_mb": 16293, "ansible_nodename": "Yhaddad-PC.", "ansible_os_family": "Windows", "ansible_os_name": "Microsoft Windows 10 Pro", "ansible_os_product_type": "workstation", "ansible_owner_contact": "", "ansible_owner_name": "", "ansible_powershell_version": 5, "ansible_processor": ["GenuineIntel", "Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz", "GenuineIntel", "Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz", "GenuineIntel", "Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz", "GenuineIntel", "Intel(R) Core(TM) i5-7400 CPU @ 3.00GHz"], "ansible_processor_cores": 4, "ansible_processor_count": 1, "ansible_processor_threads_per_core": 1, "ansible_processor_vcpus": 4, "ansible_product_name": "Vostro 3668", "ansible_product_serial": "9V8RGL2", "ansible_reboot_pending": false, "ansible_swaptotal_mb": 0, "ansible_system": "Win32NT", "ansible_system_description": "", "ansible_system_vendor": "Dell Inc.", "ansible_uptime_seconds": 274176, "ansible_user_dir": "C:\\Users\\yara.haddad", "ansible_user_gecos": "", "ansible_user_id": "yara.haddad", "ansible_user_sid": "S-1-5-21-2438716050-1164170111-3478533550-1063", "ansible_virtualization_role": "NA", "ansible_virtualization_type": "NA", "ansible_win_rm_certificate_expires": "2022-11-02 12:50:31", "ansible_windows_domain": "JUMPCLOUD", "ansible_windows_domain_member": false, "ansible_windows_domain_role": "Stand-alone workstation", "gather_subset": ["all"], "module_setup": true}, "changed": false}

TASK [kill_cmd] ****************************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/cloudserver.yml:13
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}
META: ran handlers

TASK [link_finder : override default branch version] ***************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/main.yml:2
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [link_finder : debug] *****************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/main.yml:7
ok: [192.168.2.100] => {
    "install_branch_name": "12.9"
}

TASK [link_finder : read tasks from first file found, use 'tasks/' relative subdir] ***
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/main.yml:9
included: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml for 192.168.2.100

TASK [link_finder : assert all vars are set] ***********************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:2
ok: [192.168.2.100] => (item=build_id) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "build_id", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=product_key) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "product_key", 
    "msg": "All assertions passed"
}

TASK [link_finder : assert all vars are set] ***********************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:8
ok: [192.168.2.100] => {
    "changed": false, 
    "msg": "All assertions passed"
}

TASK [link_finder : calculate download url mac] ********************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:12
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [link_finder : calculate download url win] ********************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:21
ok: [192.168.2.100 -> localhost] => {"app_version": "12.9.7529", "changed": false, "download_url": "http://192.168.1.213:8090/guestAuth/app/rest/builds/id:514171/artifacts/content/ansible/dist-Windows-SERVER-12.9.7529.zip", "file_name": "dist-Windows-SERVER-12.9.7529.zip"}

TASK [link_finder : calculate download url linux] ******************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:30
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [link_finder : set_fact] **************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:48
ok: [192.168.2.100] => {"ansible_facts": {"sanitize_role_name": "link_finder"}, "changed": false}

TASK [link_finder : define file download link] *********************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:51
ok: [192.168.2.100] => {"ansible_facts": {"link_finder": {"file_to_download": {"app_version": "12.9.7529", "changed": false, "download_url": "http://192.168.1.213:8090/guestAuth/app/rest/builds/id:514171/artifacts/content/ansible/dist-Windows-SERVER-12.9.7529.zip", "failed": false, "file_name": "dist-Windows-SERVER-12.9.7529.zip"}}}, "changed": false}

TASK [link_finder : set app_version if install branch name is master] **********
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:56
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [link_finder : debug] *****************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/roles/link_finder/tasks/default.yml:62
ok: [192.168.2.100] => {
    "link_finder.file_to_download": {
        "app_version": "12.9.7529", 
        "changed": false, 
        "download_url": "http://192.168.1.213:8090/guestAuth/app/rest/builds/id:514171/artifacts/content/ansible/dist-Windows-SERVER-12.9.7529.zip", 
        "failed": false, 
        "file_name": "dist-Windows-SERVER-12.9.7529.zip"
    }
}

TASK [cloud-server : validate vars] ********************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:3
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/variables.yml for 192.168.2.100

TASK [cloud-server : gather os specific variables] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/variables.yml:3
ok: [192.168.2.100] => {"ansible_facts": {"__cloud_backup_dir": "C:\\ProgramData\\cloud-server", "__installation_root_folder": "C:\\Experitest", "installation_folder": "{{ installation_root_folder }}\\{{ app_name }}-{{ app_version }}", "installer_file_name": "dist-Windows-SERVER-{{ app_version }}.zip", "java_bin": "{{ java_installation_folder }}\\jre{{ java_version }}\\bin\\java.exe", "java_download_filename": "jre{{ java_version }}-windows-x64.zip", "java_installation_folder": "{{ installation_root_folder }}\\jre", "java_relative_path": "java/windows", "launcher_file_name": "start.bat", "relative_path": "cloud-server/windows", "service_name": "experitest-{{ app_name }}", "temp_folder": "c:\\temp\\experitest"}, "ansible_included_var_files": ["/Users/yarahaddad/.ansible/roles/cloud-server/vars/windows.yml"], "changed": false}

TASK [cloud-server : make sure default values exist] ***************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/variables.yml:7
ok: [192.168.2.100] => (item=app_version) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_version", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=server_port) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "server_port", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=jmx_port) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "jmx_port", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=installation_root_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "installation_root_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_connection_string) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_connection_string", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_username) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_username", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_password) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_password", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=cloud_backup_dir) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "cloud_backup_dir", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=java_version) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "java_version", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=cloud_backup_dir) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "cloud_backup_dir", 
    "msg": "All assertions passed"
}

TASK [cloud-server : override default value] ***********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/variables.yml:13
skipping: [192.168.2.100] => (item=app_version)  => {"ansible_loop_var": "item", "changed": false, "item": "app_version", "skip_reason": "Conditional result was False"}
skipping: [192.168.2.100] => (item=server_port)  => {"ansible_loop_var": "item", "changed": false, "item": "server_port", "skip_reason": "Conditional result was False"}
ok: [192.168.2.100] => (item=jmx_port) => {"ansible_facts": {"jmx_port": "51234"}, "ansible_loop_var": "item", "changed": false, "item": "jmx_port"}
ok: [192.168.2.100] => (item=installation_root_folder) => {"ansible_facts": {"installation_root_folder": "C:\\Experitest"}, "ansible_loop_var": "item", "changed": false, "item": "installation_root_folder"}
skipping: [192.168.2.100] => (item=db_connection_string)  => {"ansible_loop_var": "item", "changed": false, "item": "db_connection_string", "skip_reason": "Conditional result was False"}
ok: [192.168.2.100] => (item=db_username) => {"ansible_facts": {"db_username": "postgres"}, "ansible_loop_var": "item", "changed": false, "item": "db_username"}
skipping: [192.168.2.100] => (item=db_password)  => {"ansible_loop_var": "item", "changed": false, "item": "db_password", "skip_reason": "Conditional result was False"}
ok: [192.168.2.100] => (item=cloud_backup_dir) => {"ansible_facts": {"cloud_backup_dir": "C:\\ProgramData\\cloud-server"}, "ansible_loop_var": "item", "changed": false, "item": "cloud_backup_dir"}
ok: [192.168.2.100] => (item=java_version) => {"ansible_facts": {"java_version": "1.8.0_221"}, "ansible_loop_var": "item", "changed": false, "item": "java_version"}
ok: [192.168.2.100] => (item=cloud_backup_dir) => {"ansible_facts": {"cloud_backup_dir": "C:\\ProgramData\\cloud-server"}, "ansible_loop_var": "item", "changed": false, "item": "cloud_backup_dir"}

TASK [cloud-server : backup] ***************************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:6
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml for 192.168.2.100

TASK [cloud-server : set postgres path] ****************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:4
ok: [192.168.2.100] => (item={'value': u'C:\\Program Files\\PostgreSQL\\11', 'key': u'postgres.install.path'}) => {"ansible_facts": {"postgres_install_path": "C:\\Program Files\\PostgreSQL\\11"}, "ansible_loop_var": "item", "changed": false, "item": {"key": "postgres.install.path", "value": "C:\\Program Files\\PostgreSQL\\11"}}

TASK [cloud-server : assert all vars are set] **********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:13
ok: [192.168.2.100] => (item=db_connection_string) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_connection_string", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_username) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_username", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=temp_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "temp_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=cloud_backup_dir) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "cloud_backup_dir", 
    "msg": "All assertions passed"
}

TASK [cloud-server : set facts] ************************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:25
ok: [192.168.2.100] => {"ansible_facts": {"backups_before_upgrade_dir": "C:\\ProgramData\\cloud-server\\backups_before_upgrade", "db_host": "192.168.2.100", "db_name": "cloudserver", "db_port": "5432", "timestamp": "2019-11-21-16-36"}, "changed": false}

TASK [cloud-server : make sure psql is installed on the machine] ***************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:36
changed: [192.168.2.100] => {"changed": true, "cmd": "\"C:\\Program Files\\PostgreSQL\\11/bin/psql.exe\" --version", "delta": "0:00:00.204999", "end": "2019-11-21 02:36:53.735782", "rc": 0, "start": "2019-11-21 02:36:53.530782", "stderr": "", "stderr_lines": [], "stdout": "psql (PostgreSQL) 11.5\r\n", "stdout_lines": ["psql (PostgreSQL) 11.5"]}

TASK [cloud-server : make sure pg_dump is installed on the machine] ************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:43
changed: [192.168.2.100] => {"changed": true, "cmd": "\"C:\\Program Files\\PostgreSQL\\11/bin/pg_dump.exe\" --version", "delta": "0:00:00.136001", "end": "2019-11-21 02:36:56.586783", "rc": 0, "start": "2019-11-21 02:36:56.450782", "stderr": "", "stderr_lines": [], "stdout": "pg_dump (PostgreSQL) 11.5\r\n", "stdout_lines": ["pg_dump (PostgreSQL) 11.5"]}

TASK [cloud-server : make sure temp folder exists] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:63
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : make sure backup directory exists] ************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:68
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : check postgresql is recheable] ****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:78
changed: [192.168.2.100] => {"changed": true, "cmd": "\"C:\\Program Files\\PostgreSQL\\11/bin/psql.exe\" -l", "delta": "0:00:00.184000", "end": "2019-11-21 02:37:03.361781", "rc": 0, "start": "2019-11-21 02:37:03.177780", "stderr": "", "stderr_lines": [], "stdout": "                                                  List of databases\r\n    Name     |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges   \r\n-------------+----------+----------+----------------------------+----------------------------+-----------------------\r\n cloudserver | postgres | UTF8     | English_United States.1252 | English_United States.1252 | \r\n postgres    | postgres | UTF8     | English_United States.1252 | English_United States.1252 | \r\n reporter    | postgres | UTF8     | English_United States.1252 | English_United States.1252 | \r\n template0   | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +\r\n             |          |          |                            |                            | postgres=CTc/postgres\r\n template1   | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +\r\n             |          |          |                            |                            | postgres=CTc/postgres\r\n(5 rows)\r\n\r\n", "stdout_lines": ["                                                  List of databases", "    Name     |  Owner   | Encoding |          Collate           |           Ctype            |   Access privileges   ", "-------------+----------+----------+----------------------------+----------------------------+-----------------------", " cloudserver | postgres | UTF8     | English_United States.1252 | English_United States.1252 | ", " postgres    | postgres | UTF8     | English_United States.1252 | English_United States.1252 | ", " reporter    | postgres | UTF8     | English_United States.1252 | English_United States.1252 | ", " template0   | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +", "             |          |          |                            |                            | postgres=CTc/postgres", " template1   | postgres | UTF8     | English_United States.1252 | English_United States.1252 | =c/postgres          +", "             |          |          |                            |                            | postgres=CTc/postgres", "(5 rows)", ""]}

TASK [cloud-server : if db not exist - write sql file to create database] ******
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:89
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : if db not exist - create empty cloudserver database] ******
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:95
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : run cloudserver database backup] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-backup.yml:106
changed: [192.168.2.100] => {"changed": true, "cmd": "\"C:\\Program Files\\PostgreSQL\\11/bin/pg_dump.exe\" -w -Fc cloudserver > C:\\ProgramData\\cloud-server\\backups_before_upgrade//2019-11-21-16-36-cloudserver.dump", "delta": "0:00:00.757996", "end": "2019-11-21 02:37:07.972780", "rc": 0, "start": "2019-11-21 02:37:07.214783", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}

TASK [cloud-server : install] **************************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:9
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml for 192.168.2.100

TASK [cloud-server : assert all vars are set] **********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:4
ok: [192.168.2.100] => (item=app_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=temp_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "temp_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=clear_temp_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "clear_temp_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=service_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "service_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=main_class) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "main_class", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=installation_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "installation_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=clear_before_install) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "clear_before_install", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=server_port) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "server_port", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=jmx_port) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "jmx_port", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=installer_file_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "installer_file_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=s3_download_url) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "s3_download_url", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=launcher_file_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "launcher_file_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_connection_string) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_connection_string", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=db_username) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "db_username", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=application_properties) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "application_properties", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=xml_conf) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "xml_conf", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=extra_java_options) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "extra_java_options", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=kill_notepad) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "kill_notepad", 
    "msg": "All assertions passed"
}

TASK [cloud-server : install Chocolatey] ***************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:29
ok: [192.168.2.100] => {"changed": false, "rc": 0, "stdout": "Upgrading the following packages:\r\nchocolatey\r\nBy upgrading you accept licenses for the packages.\r\nchocolatey|0.10.15|0.10.15|false\r\n\r\nChocolatey upgraded 0/1 packages. \r\n See the log for details (C:\\ProgramData\\chocolatey\\logs\\chocolatey.log).\r\n", "stdout_lines": ["Upgrading the following packages:", "chocolatey", "By upgrading you accept licenses for the packages.", "chocolatey|0.10.15|0.10.15|false", "", "Chocolatey upgraded 0/1 packages. ", " See the log for details (C:\\ProgramData\\chocolatey\\logs\\chocolatey.log)."]}

TASK [cloud-server : disable enhanced exit codes] ******************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:34
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : install nssm dependency] **********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:39
ok: [192.168.2.100] => {"changed": false, "rc": 0}

TASK [cloud-server : install visual c++ redistributable 2015 dependency] *******
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:43
fatal: [192.168.2.100]: FAILED! => {"changed": false, "msg": "unexpected rc from install  sgg5zjei.u5a: see rc, stdout and stderr for more details", "rc": 1638, "reboot_required": false, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
...ignoring

TASK [cloud-server : make sure temp folder exists] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:55
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : make sure java is installed on the machine] ***************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:62
changed: [192.168.2.100] => {"changed": true, "cmd": "C:\\Experitest\\jre\\jre1.8.0_221\\bin\\java.exe -version", "delta": "0:00:00.463992", "end": "2019-11-21 02:37:50.243782", "rc": 0, "start": "2019-11-21 02:37:49.779789", "stderr": "java version \"1.8.0_221\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_221-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)\r\n", "stderr_lines": ["java version \"1.8.0_221\"", "Java(TM) SE Runtime Environment (build 1.8.0_221-b11)", "Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)"], "stdout": "", "stdout_lines": []}

TASK [cloud-server : fail if java is not found] ********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:67
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : download zip from s3 url] *********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:74
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : download zip from custom url] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:82
ok: [192.168.2.100] => {"changed": false, "checksum_dest": "e3e7c45ed1086d349b8210c3a4403176ec0018f5", "dest": "c:\\temp\\experitest\\dist-Windows-SERVER-12.9.7529.zip", "elapsed": 0, "msg": "OK", "size": 579005855, "status_code": 200, "url": "http://192.168.1.213:8090/guestAuth/app/rest/builds/id:514171/artifacts/content/ansible/dist-Windows-SERVER-12.9.7529.zip"}

TASK [cloud-server : stop the old install4j service if exists] *****************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:92
ok: [192.168.2.100] => (item=cloudserver) => {"ansible_loop_var": "item", "changed": false, "exists": false, "item": "cloudserver"}

TASK [cloud-server : stop the old service] *************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:100
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : kill notepad] *********************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:110
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : kill notepad++] *******************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:118
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : clear old installation folder] ****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:131
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : make sure installation folder exists] *********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:139
changed: [192.168.2.100] => {"changed": true}

TASK [cloud-server : make sure unzip folder exists] ****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:145
ok: [192.168.2.100] => {"changed": false}

TASK [cloud-server : unzip the file] *******************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:151
skipping: [192.168.2.100] => {"changed": false, "dest": "c:\\temp\\experitest\\dist-Windows-SERVER-12.9.7529", "msg": "The file or directory 'c:\\temp\\experitest\\dist-Windows-SERVER-12.9.7529\\Server' already exists.", "removed": false, "src": "c:\\temp\\experitest\\dist-Windows-SERVER-12.9.7529.zip"}

TASK [cloud-server : copy the file to installation folder] *********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:159
changed: [192.168.2.100] => {"changed": true, "dest": "C:\\Experitest\\cloudserver-12.9.7529", "operation": "folder_copy", "size": 677768888, "src": "c:\\temp\\experitest\\dist-Windows-SERVER-12.9.7529\\Server\\"}

TASK [cloud-server : copy start script] ****************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:167
changed: [192.168.2.100] => {"changed": true, "checksum": "0c0bc998424add920ade9cc5d6e3aabab571cf82"}

TASK [cloud-server : update application properties file] ***********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:175
changed: [192.168.2.100] => (item={'value': u'jdbc:postgresql://192.168.2.100:5432/cloudserver', 'key': u'spring.datasource.url'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "spring.datasource.url", "value": "jdbc:postgresql://192.168.2.100:5432/cloudserver"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'8080', 'key': u'server.port'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "server.port", "value": "8080"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'postgres', 'key': u'spring.datasource.username'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "spring.datasource.username", "value": "postgres"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'123456', 'key': u'spring.datasource.password'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "spring.datasource.password", "value": "123456"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'C:\\Program Files\\PostgreSQL\\11', 'key': u'postgres.install.path'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "postgres.install.path", "value": "C:\\Program Files\\PostgreSQL\\11"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'org.postgresql.Driver', 'key': u'spring.datasource.driver-class-name'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "spring.datasource.driver-class-name", "value": "org.postgresql.Driver"}, "msg": "line replaced"}

TASK [cloud-server : update logback properties file] ***************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:183
changed: [192.168.2.100] => (item={'value': u'40MB', 'key': u'appender.server.maxFileSize'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "appender.server.maxFileSize", "value": "40MB"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'20', 'key': u'appender.server.maxIndex'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "appender.server.maxIndex", "value": "20"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'15MB', 'key': u'appender.audit.maxFileSize'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "appender.audit.maxFileSize", "value": "15MB"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'5', 'key': u'appender.audit.maxIndex'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "appender.audit.maxIndex", "value": "5"}, "msg": "line added"}

TASK [cloud-server : update xml conf] ******************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:191
changed: [192.168.2.100] => (item={'value': u'8080', 'key': u'main-port'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "main-port", "value": "8080"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'cees4ne6fv8ko14gc2gvjst449', 'key': u'pairing-key'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "pairing-key", "value": "cees4ne6fv8ko14gc2gvjst449"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'false', 'key': u'use-secure-single-port'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "use-secure-single-port", "value": "false"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'YHaddad-PC', 'key': u'cloud-server-host'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "cloud-server-host", "value": "YHaddad-PC"}, "msg": "line replaced"}
changed: [192.168.2.100] => (item={'value': u'C:\\ProgramData\\cloud-server', 'key': u'cloud-backup-base-dir'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "cloud-backup-base-dir", "value": "C:\\ProgramData\\cloud-server"}, "msg": "line added"}
changed: [192.168.2.100] => (item={'value': u'false', 'key': u'single-port'}) => {"ansible_loop_var": "item", "backup": "", "changed": true, "encoding": "utf-8", "item": {"key": "single-port", "value": "false"}, "msg": "line replaced"}

TASK [cloud-server : set permissions for logs folder] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:201
changed: [192.168.2.100] => {"changed": true}

TASK [cloud-server : run hasp installer] ***************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:218
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : create the service] ***************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:225
NOTIFIED HANDLER cloud-server : start the service for 192.168.2.100
changed: [192.168.2.100] => {"changed": true, "changed_by": "AppRotateBytes"}

TASK [cloud-server : enable stderr logs to append] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:237
ok: [192.168.2.100] => {"changed": false, "cmd": "nssm set experitest-cloudserver AppStderrCreationDisposition 4", "delta": "0:00:00.105033", "end": "2019-11-21 02:40:47.191095", "rc": 0, "start": "2019-11-21 02:40:47.086062", "stderr": "", "stderr_lines": [], "stdout": "Reset parameter \"AppStderrCreationDisposition\" for service \"experitest-cloudserver\" to its default.\r\r\n", "stdout_lines": ["Reset parameter \"AppStderrCreationDisposition\" for service \"experitest-cloudserver\" to its default.", ""]}

TASK [cloud-server : sanitize role name] ***************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:245
ok: [192.168.2.100] => {"ansible_facts": {"sanitize_role_name": "cloud_server"}, "changed": false}

TASK [cloud-server : expose role output] ***************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-install.yml:249
ok: [192.168.2.100] => {"ansible_facts": {"cloud_server": {"cloud_backup_dir": "C:\\ProgramData\\cloud-server", "configuration_file": "C:\\Experitest\\cloudserver-12.9.7529\\conf\\application.properties", "configuration_xml_file": "C:\\Experitest\\cloudserver-12.9.7529\\conf\\cloudserver.conf.xml", "installation_folder": "C:\\Experitest\\cloudserver-12.9.7529", "java_bin": "C:\\Experitest\\jre\\jre1.8.0_221\\bin\\java.exe", "jmx_port": "51234", "server_port": "8080"}}, "changed": false}

TASK [cloud-server : apply license] ********************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:13
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml for 192.168.2.100

TASK [cloud-server : assert valid options] *************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:4
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : assert valid license4j_file_content (license4j)] **********
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:9
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : copy licese to remote] ************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:22
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : copy licese to remote] ************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:36
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : remove trial key from conf file] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:50
changed: [192.168.2.100] => {"backup": "", "changed": true, "encoding": "utf-8", "found": 1, "msg": "1 line(s) removed"}

TASK [cloud-server : copy license to remote] ***********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:58
changed: [192.168.2.100] => {"changed": true, "checksum": "8a1b7e9765b0627bd902dbb0c65a7e6f96ca6b25", "dest": "C:\\Experitest\\cloudserver-12.9.7529\\conf\\l4jlicense.txt", "operation": "file_copy", "original_basename": "tmpSxmg7i", "size": 2138, "src": null}

TASK [cloud-server : remove trial key from conf file] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:72
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : copy licese to remote] ************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:80
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : remove trial key from conf file] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:94
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : copy licese to remote] ************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:102
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : remove trial key from conf file] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:116
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : copy licese to remote] ************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/apply-license.yml:124
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : clear temp folder] ****************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:17
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : track versions] *******************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:21
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml for 192.168.2.100

TASK [cloud-server : assert all vars are set] **********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml:5
ok: [192.168.2.100] => (item=installation_root_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "installation_root_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=app_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=app_version) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_version", 
    "msg": "All assertions passed"
}

TASK [cloud-server : test for current installation version] ********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml:14
ok: [192.168.2.100] => {"changed": false, "stat": {"exists": false}}

TASK [cloud-server : load current_version from remote file] ********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml:19
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : move current to be previous] ******************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml:32
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : update current version with new version] ******************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-track-versions.yml:40
changed: [192.168.2.100] => {"changed": true, "checksum": "35ec55b3cf7e71cb05a647f2a007eb78b7b7316a", "dest": "C:\\Experitest\\cloudserver-current", "operation": "file_copy", "original_basename": "tmpSOJs7Q", "size": 9, "src": null}

TASK [cloud-server : remove archived versions] *********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:25
included: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml for 192.168.2.100

TASK [cloud-server : assert all vars are set] **********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:4
ok: [192.168.2.100] => (item=installation_root_folder) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "installation_root_folder", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=app_name) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_name", 
    "msg": "All assertions passed"
}
ok: [192.168.2.100] => (item=app_version) => {
    "ansible_loop_var": "item", 
    "changed": false, 
    "item": "app_version", 
    "msg": "All assertions passed"
}

TASK [cloud-server : test for previous installation version] *******************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:13
ok: [192.168.2.100] => {"changed": false, "stat": {"exists": false}}

TASK [cloud-server : load previous_version from remote file] *******************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:18
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : set previous_version from remote file] ********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:25
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [cloud-server : test for current installation version] ********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:31
ok: [192.168.2.100] => {"changed": false, "stat": {"attributes": "Archive", "checksum": "35ec55b3cf7e71cb05a647f2a007eb78b7b7316a", "creationtime": 1574354461.9312055, "exists": true, "extension": "", "filename": "cloudserver-current", "hlnk_targets": [], "isarchive": true, "isdir": false, "ishidden": false, "isjunction": false, "islnk": false, "isreadonly": false, "isreg": true, "isshared": false, "lastaccesstime": 1574354461.9322062, "lastwritetime": 1574354460.9802072, "nlink": 1, "owner": "BUILTIN\\Administrators", "path": "C:\\Experitest\\cloudserver-current", "size": 9}}

TASK [cloud-server : load current_version from remote file] ********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:36
ok: [192.168.2.100] => {"changed": false, "content": "MTIuOS43NTI5", "encoding": "base64"}

TASK [cloud-server : set current_version from remote file] *********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:43
ok: [192.168.2.100] => {"ansible_facts": {"current_version": "12.9.7529"}, "changed": false}

TASK [cloud-server : find old versions] ****************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:49
ok: [192.168.2.100] => {"changed": false, "cmd": "Get-ChildItem -Path C:\\Experitest\\cloudserver-* -Directory -Name", "delta": "0:00:00.413003", "end": "2019-11-21 02:41:10.180207", "rc": 0, "start": "2019-11-21 02:41:09.767204", "stderr": "", "stderr_lines": [], "stdout": "cloudserver-12.9.7529\r\n", "stdout_lines": ["cloudserver-12.9.7529"]}

TASK [cloud-server : remove old versions] **************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/windows-remove-archived.yml:55
 [WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found: item | regex_search("{{ app_name
}}-")
 [WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found: item != "{{ app_name }}-{{
previous_version | default('invalid-version') }}"
 [WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found: item != "{{ app_name }}-{{
current_version | default('invalid-version') }}"
skipping: [192.168.2.100] => (item=cloudserver-12.9.7529)  => {"ansible_loop_var": "item", "changed": false, "item": "cloudserver-12.9.7529", "skip_reason": "Conditional result was False"}

TASK [cloud-server : uninstall] ************************************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/tasks/main.yml:29
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [add pairing.log to logback-local.xml server] *****************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/cloudserver.yml:51
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [update conf server to SSO] ***********************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/cloudserver.yml:60
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [include extra roles] *****************************************************
task path: /Users/yarahaddad/Documents/TestProject/qa-env-deployment/cloudserver.yml:69

RUNNING HANDLER [cloud-server : start the service] *****************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/main.yml:2
included: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml for 192.168.2.100

RUNNING HANDLER [cloud-server : start the service (windows)] *******************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:2
changed: [192.168.2.100] => {"can_pause_and_continue": false, "changed": true, "depended_by": [], "dependencies": [], "description": "", "desktop_interact": false, "display_name": "experitest-cloudserver", "exists": true, "name": "experitest-cloudserver", "path": "C:\\ProgramData\\chocolatey\\lib\\NSSM\\tools\\nssm.exe", "start_mode": "auto", "state": "running", "username": "LocalSystem"}

RUNNING HANDLER [cloud-server : read logs if service failed (windows)] *********
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:10
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

RUNNING HANDLER [cloud-server : print log file] ********************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:15
skipping: [192.168.2.100] => {}

RUNNING HANDLER [cloud-server : fail if start failed] **************************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:20
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}

RUNNING HANDLER [cloud-server : wait for service to start] *********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:25
ok: [192.168.2.100] => {"changed": false, "failed_attempts": 7, "msg": "Success: 200 = 200", "success": true, "url": "http://localhost:8080/manage/info"}

RUNNING HANDLER [cloud-server : get installed version from version.properties file] ***
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:31
ok: [192.168.2.100] => {"changed": false, "content": "dmVyc2lvbj0xMi45Ljc1Mjk=", "encoding": "base64"}

RUNNING HANDLER [cloud-server : print installed version] ***********************
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:36
ok: [192.168.2.100] => {
    "msg": " Installed version: 12.9.7529"
}

RUNNING HANDLER [cloud-server : fail if app_version is not equal to installed version] ***
task path: /Users/yarahaddad/.ansible/roles/cloud-server/handlers/windows-start-service.yml:40
skipping: [192.168.2.100] => {"changed": false, "skip_reason": "Conditional result was False"}
META: ran handlers
META: ran handlers

PLAY RECAP *********************************************************************
192.168.2.100              : ok=65   changed=17   unreachable=0    failed=0    skipped=38   rescued=0    ignored=1   

